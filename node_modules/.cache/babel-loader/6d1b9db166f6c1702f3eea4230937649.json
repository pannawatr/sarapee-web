{"ast":null,"code":"import _objectSpread from\"/Users/net/Documents/Work/Website/sarapee-web/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _asyncToGenerator from\"/Users/net/Documents/Work/Website/sarapee-web/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/net/Documents/Work/Website/sarapee-web/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/net/Documents/Work/Website/sarapee-web/node_modules/@babel/runtime/regenerator/index.js\";import React,{useEffect,useState}from\"react\";import{Container,Row,Col,Form,FloatingLabel,Button,Table}from\"react-bootstrap\";import{useNavigate,useParams,Link}from\"react-router-dom\";import{db}from\"../../Config\";import{doc,collection,getDocs}from\"firebase/firestore\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SearchICFForm(){var _useParams=useParams(),userId=_useParams.userId;var navigate=useNavigate();var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];var subcollection=collection(db,\"users\",userId,\"icf\");useEffect(function(){var getIcfId=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return getDocs(subcollection);case 2:data=_context.sent;setUsers(data.docs.map(function(doc){return _objectSpread(_objectSpread({},doc.data()),{},{id:doc.id});}));case 4:case\"end\":return _context.stop();}}},_callee);}));return function getIcfId(){return _ref.apply(this,arguments);};}();getIcfId();},[]);return/*#__PURE__*/_jsx(Container,{className:\"p-3\",children:/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{lg:12,children:/*#__PURE__*/_jsxs(Table,{responsive:\"md\",children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"\\u0E40\\u0E27\\u0E25\\u0E32\"}),/*#__PURE__*/_jsx(\"th\",{style:{width:\"12%\"}})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:users.map(function(user){console.log(user.icfTime);return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:new Date(user.icfTime.seconds*1000).toLocaleDateString(\"th-TH\")}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(Button,{className:\"w-100\",variant:\"primary\",title:\"\\u0E14\\u0E39\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\",style:{borderRadius:\"15px\",padding:\".5rem\"},children:/*#__PURE__*/_jsx(Link,{to:\"/Icfinfo/\".concat(userId,\"/\").concat(user.id),activeClassName:\"active\",style:{textDecoration:\"none\",color:\"white\"},children:\"\\u0E14\\u0E39\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\"})})})]});})})]})})})});}export default SearchICFForm;","map":{"version":3,"sources":["/Users/net/Documents/Work/Website/sarapee-web/src/Components/InfoICFForm/SearchICFForm.js"],"names":["React","useEffect","useState","Container","Row","Col","Form","FloatingLabel","Button","Table","useNavigate","useParams","Link","db","doc","collection","getDocs","SearchICFForm","userId","navigate","users","setUsers","subcollection","getIcfId","data","docs","map","id","width","user","console","log","icfTime","Date","seconds","toLocaleDateString","borderRadius","padding","textDecoration","color"],"mappings":"8gBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OACEC,SADF,CAEEC,GAFF,CAGEC,GAHF,CAIEC,IAJF,CAKEC,aALF,CAMEC,MANF,CAOEC,KAPF,KAQO,iBARP,CAUA,OAASC,WAAT,CAAsBC,SAAtB,CAAiCC,IAAjC,KAA6C,kBAA7C,CACA,OAASC,EAAT,KAAmB,cAAnB,CACA,OAASC,GAAT,CAAcC,UAAd,CAA0BC,OAA1B,KAAyC,oBAAzC,C,wFAEA,QAASC,CAAAA,aAAT,EAAyB,CACvB,eAAiBN,SAAS,EAA1B,CAAMO,MAAN,YAAMA,MAAN,CACA,GAAIC,CAAAA,QAAQ,CAAGT,WAAW,EAA1B,CAEA,cAA0BR,QAAQ,CAAC,EAAD,CAAlC,wCAAOkB,KAAP,eAAcC,QAAd,eACA,GAAMC,CAAAA,aAAa,CAAGP,UAAU,CAACF,EAAD,CAAK,OAAL,CAAcK,MAAd,CAAsB,KAAtB,CAAhC,CAEAjB,SAAS,CAAC,UAAM,CACd,GAAMsB,CAAAA,QAAQ,0FAAG,kKACIP,CAAAA,OAAO,CAACM,aAAD,CADX,QACTE,IADS,eAEfH,QAAQ,CAACG,IAAI,CAACC,IAAL,CAAUC,GAAV,CAAc,SAACZ,GAAD,wCAAeA,GAAG,CAACU,IAAJ,EAAf,MAA2BG,EAAE,CAAEb,GAAG,CAACa,EAAnC,IAAd,CAAD,CAAR,CAFe,sDAAH,kBAARJ,CAAAA,QAAQ,0CAAd,CAIAA,QAAQ,GACT,CANQ,CAMN,EANM,CAAT,CAQA,mBACE,KAAC,SAAD,EAAW,SAAS,CAAC,KAArB,uBACE,KAAC,GAAD,wBACE,KAAC,GAAD,EAAK,EAAE,CAAE,EAAT,uBACE,MAAC,KAAD,EAAO,UAAU,CAAC,IAAlB,wBACE,oCACE,mCACE,gDADF,cAEE,WAAI,KAAK,CAAE,CAAEK,KAAK,CAAE,KAAT,CAAX,EAFF,GADF,EADF,cAOE,uBACGR,KAAK,CAACM,GAAN,CAAU,SAACG,IAAD,CAAU,CACnBC,OAAO,CAACC,GAAR,CAAYF,IAAI,CAACG,OAAjB,EACA,mBACE,mCACE,oBACG,GAAIC,CAAAA,IAAJ,CAASJ,IAAI,CAACG,OAAL,CAAaE,OAAb,CAAuB,IAAhC,EAAsCC,kBAAtC,CACC,OADD,CADH,EADF,cAME,iCACE,KAAC,MAAD,EACE,SAAS,CAAC,OADZ,CAEE,OAAO,CAAC,SAFV,CAGE,KAAK,CAAC,kDAHR,CAIE,KAAK,CAAE,CAAEC,YAAY,CAAE,MAAhB,CAAwBC,OAAO,CAAE,OAAjC,CAJT,uBAME,KAAC,IAAD,EACE,EAAE,oBAAcnB,MAAd,aAAwBW,IAAI,CAACF,EAA7B,CADJ,CAEE,eAAe,CAAC,QAFlB,CAGE,KAAK,CAAE,CAAEW,cAAc,CAAE,MAAlB,CAA0BC,KAAK,CAAE,OAAjC,CAHT,8DANF,EADF,EANF,GADF,CAyBD,CA3BA,CADH,EAPF,GADF,EADF,EADF,EADF,CA8CD,CAED,cAAetB,CAAAA,aAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport {\n  Container,\n  Row,\n  Col,\n  Form,\n  FloatingLabel,\n  Button,\n  Table,\n} from \"react-bootstrap\";\n\nimport { useNavigate, useParams, Link } from \"react-router-dom\";\nimport { db } from \"../../Config\";\nimport { doc, collection, getDocs } from \"firebase/firestore\";\n\nfunction SearchICFForm() {\n  let { userId } = useParams();\n  let navigate = useNavigate();\n\n  const [users, setUsers] = useState([]);\n  const subcollection = collection(db, \"users\", userId, \"icf\");\n\n  useEffect(() => {\n    const getIcfId = async () => {\n      const data = await getDocs(subcollection);\n      setUsers(data.docs.map((doc) => ({ ...doc.data(), id: doc.id })));\n    };\n    getIcfId();\n  }, []);\n\n  return (\n    <Container className=\"p-3\">\n      <Row>\n        <Col lg={12}>\n          <Table responsive=\"md\">\n            <thead>\n              <tr>\n                <th>เวลา</th>\n                <th style={{ width: \"12%\" }}></th>\n              </tr>\n            </thead>\n            <tbody>\n              {users.map((user) => {\n                console.log(user.icfTime);\n                return (\n                  <tr>\n                    <td>\n                      {new Date(user.icfTime.seconds * 1000).toLocaleDateString(\n                        \"th-TH\"\n                      )}\n                    </td>\n                    <td>\n                      <Button\n                        className=\"w-100\"\n                        variant=\"primary\"\n                        title=\"ดูข้อมูล\"\n                        style={{ borderRadius: \"15px\", padding: \".5rem\" }}\n                      >\n                        <Link\n                          to={`/Icfinfo/${userId}/${user.id}`}\n                          activeClassName=\"active\"\n                          style={{ textDecoration: \"none\", color: \"white\" }}\n                        >\n                          ดูข้อมูล\n                        </Link>\n                      </Button>\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </Table>\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default SearchICFForm;\n"]},"metadata":{},"sourceType":"module"}