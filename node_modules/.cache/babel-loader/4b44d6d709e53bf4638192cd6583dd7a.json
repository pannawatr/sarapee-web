{"ast":null,"code":"import _asyncToGenerator from\"/Users/net/Documents/Work/Website/sarapee-web/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/net/Documents/Work/Website/sarapee-web/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/net/Documents/Work/Website/sarapee-web/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState}from\"react\";import{Navbar,Image,Button,Nav}from\"react-bootstrap\";import Logo from\"./img/Logo.png\";import Datetime from\"../Datetime/Datetime\";import{auth}from\"../../Config\";import{onAuthStateChanged,signOut}from\"firebase/auth\";import{Link,useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Header(){var navigate=useNavigate();var _useState=useState({}),_useState2=_slicedToArray(_useState,2),user=_useState2[0],setUser=_useState2[1];onAuthStateChanged(auth,function(currentUser){setUser(currentUser);});var logout=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return signOut(auth);case 2:if(user){navigate(\"/\");}case 3:case\"end\":return _context.stop();}}},_callee);}));return function logout(){return _ref.apply(this,arguments);};}();var buttonLogout;var textNameUser;if(user){buttonLogout=/*#__PURE__*/_jsx(Button,{className:\"mr-auto\",onClick:logout,style:{borderRadius:\"15px\"},children:\"\\u0E2D\\u0E2D\\u0E01\\u0E08\\u0E32\\u0E01\\u0E23\\u0E30\\u0E1A\\u0E1A\"});textNameUser=/*#__PURE__*/_jsxs(Nav.Link,{children:[\"User : \",user===null||user===void 0?void 0:user.email]});}else{buttonLogout=/*#__PURE__*/_jsx(Button,{className:\"mr-auto\",as:Link,to:\"/\",style:{borderRadius:\"15px\"},children:\"\\u0E40\\u0E02\\u0E49\\u0E32\\u0E2A\\u0E39\\u0E48\\u0E23\\u0E30\\u0E1A\\u0E1A\"});}return/*#__PURE__*/_jsxs(Navbar,{bg:\"light\",expand:\"lg\",className:\"p-2\",children:[/*#__PURE__*/_jsx(Navbar.Brand,{children:/*#__PURE__*/_jsx(Image,{src:Logo,style:{width:\"10rem\"}})}),/*#__PURE__*/_jsx(Navbar.Toggle,{\"aria-controls\":\"navbarScroll\"}),/*#__PURE__*/_jsxs(Navbar.Collapse,{id:\"navbarScroll\",className:\"justify-content-end\",children:[/*#__PURE__*/_jsxs(Nav,{className:\"mr-auto\",children:[/*#__PURE__*/_jsx(Nav.Link,{className:\"pe-3\",children:/*#__PURE__*/_jsx(Datetime,{})}),textNameUser]}),buttonLogout]})]});}export default Header;","map":{"version":3,"sources":["/Users/net/Documents/Work/Website/sarapee-web/src/Components/Header/Header.js"],"names":["React","useState","Navbar","Image","Button","Nav","Logo","Datetime","auth","onAuthStateChanged","signOut","Link","useNavigate","Header","navigate","user","setUser","currentUser","logout","buttonLogout","textNameUser","borderRadius","email","width"],"mappings":"4YAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAAgC,OAAhC,CACA,OAASC,MAAT,CAAiBC,KAAjB,CAAwBC,MAAxB,CAAgCC,GAAhC,KAA2C,iBAA3C,CAEA,MAAOC,CAAAA,IAAP,KAAiB,gBAAjB,CACA,MAAOC,CAAAA,QAAP,KAAqB,sBAArB,CAEA,OAASC,IAAT,KAAqB,cAArB,CACA,OAASC,kBAAT,CAA6BC,OAA7B,KAA4C,eAA5C,CACA,OAASC,IAAT,CAAeC,WAAf,KAAkC,kBAAlC,C,wFAEA,QAASC,CAAAA,MAAT,EAAkB,CAChB,GAAIC,CAAAA,QAAQ,CAAGF,WAAW,EAA1B,CACA,cAAwBX,QAAQ,CAAC,EAAD,CAAhC,wCAAOc,IAAP,eAAaC,OAAb,eACAP,kBAAkB,CAACD,IAAD,CAAO,SAACS,WAAD,CAAiB,CACxCD,OAAO,CAACC,WAAD,CAAP,CACD,CAFiB,CAAlB,CAGA,GAAMC,CAAAA,MAAM,0FAAG,yJACPR,CAAAA,OAAO,CAACF,IAAD,CADA,QAEb,GAAIO,IAAJ,CAAU,CACRD,QAAQ,CAAC,GAAD,CAAR,CACD,CAJY,sDAAH,kBAANI,CAAAA,MAAM,0CAAZ,CAOA,GAAIC,CAAAA,YAAJ,CACA,GAAIC,CAAAA,YAAJ,CACA,GAAIL,IAAJ,CAAU,CACRI,YAAY,cACV,KAAC,MAAD,EACE,SAAS,CAAC,SADZ,CAEE,OAAO,CAAED,MAFX,CAGE,KAAK,CAAE,CAAEG,YAAY,CAAE,MAAhB,CAHT,0EADF,CASAD,YAAY,cAAG,MAAC,GAAD,CAAK,IAAL,sBAAkBL,IAAlB,SAAkBA,IAAlB,iBAAkBA,IAAI,CAAEO,KAAxB,GAAf,CACD,CAXD,IAWO,CACLH,YAAY,cACV,KAAC,MAAD,EACE,SAAS,CAAC,SADZ,CAEE,EAAE,CAAER,IAFN,CAGE,EAAE,CAAC,GAHL,CAIE,KAAK,CAAE,CAAEU,YAAY,CAAE,MAAhB,CAJT,gFADF,CAUD,CAED,mBACE,MAAC,MAAD,EAAQ,EAAE,CAAC,OAAX,CAAmB,MAAM,CAAC,IAA1B,CAA+B,SAAS,CAAC,KAAzC,wBACE,KAAC,MAAD,CAAQ,KAAR,wBACE,KAAC,KAAD,EAAO,GAAG,CAAEf,IAAZ,CAAkB,KAAK,CAAE,CAAEiB,KAAK,CAAE,OAAT,CAAzB,EADF,EADF,cAKE,KAAC,MAAD,CAAQ,MAAR,EAAe,gBAAc,cAA7B,EALF,cAME,MAAC,MAAD,CAAQ,QAAR,EAAiB,EAAE,CAAC,cAApB,CAAmC,SAAS,CAAC,qBAA7C,wBACE,MAAC,GAAD,EAAK,SAAS,CAAC,SAAf,wBACE,KAAC,GAAD,CAAK,IAAL,EAAU,SAAS,CAAC,MAApB,uBACE,KAAC,QAAD,IADF,EADF,CAIGH,YAJH,GADF,CAOGD,YAPH,GANF,GADF,CAkBD,CAED,cAAeN,CAAAA,MAAf","sourcesContent":["import React, { useState } from \"react\";\nimport { Navbar, Image, Button, Nav } from \"react-bootstrap\";\n\nimport Logo from \"./img/Logo.png\";\nimport Datetime from \"../Datetime/Datetime\";\n\nimport { auth } from \"../../Config\";\nimport { onAuthStateChanged, signOut } from \"firebase/auth\";\nimport { Link, useNavigate } from \"react-router-dom\";\n\nfunction Header() {\n  let navigate = useNavigate();\n  const [user, setUser] = useState({});\n  onAuthStateChanged(auth, (currentUser) => {\n    setUser(currentUser);\n  });\n  const logout = async () => {\n    await signOut(auth);\n    if (user) {\n      navigate(\"/\");\n    }\n  };\n\n  let buttonLogout;\n  let textNameUser;\n  if (user) {\n    buttonLogout = (\n      <Button\n        className=\"mr-auto\"\n        onClick={logout}\n        style={{ borderRadius: \"15px\" }}\n      >\n        ออกจากระบบ\n      </Button>\n    );\n    textNameUser = <Nav.Link>User : {user?.email}</Nav.Link>;\n  } else {\n    buttonLogout = (\n      <Button\n        className=\"mr-auto\"\n        as={Link}\n        to=\"/\"\n        style={{ borderRadius: \"15px\" }}\n      >\n        เข้าสู่ระบบ\n      </Button>\n    );\n  }\n\n  return (\n    <Navbar bg=\"light\" expand=\"lg\" className=\"p-2\">\n      <Navbar.Brand>\n        <Image src={Logo} style={{ width: \"10rem\" }}></Image>\n      </Navbar.Brand>\n\n      <Navbar.Toggle aria-controls=\"navbarScroll\" />\n      <Navbar.Collapse id=\"navbarScroll\" className=\"justify-content-end\">\n        <Nav className=\"mr-auto\">\n          <Nav.Link className=\"pe-3\">\n            <Datetime />\n          </Nav.Link>\n          {textNameUser}\n        </Nav>\n        {buttonLogout}\n      </Navbar.Collapse>\n    </Navbar>\n  );\n}\n\nexport default Header;\n"]},"metadata":{},"sourceType":"module"}