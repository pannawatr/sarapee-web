{"ast":null,"code":"var _jsxFileName = \"/Users/net/Documents/Work/Website/sarapee-web/src/Components/SearchForm/SearchForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Container, Col, Row, Form, FloatingLabel, Table, Button, DropdownButton, Dropdown } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { db } from \"../../Config\";\nimport { collection, doc, getDocs, query, snapshotEqual, updateDoc, where } from \"firebase/firestore\";\nimport { connectAuthEmulator } from \"firebase/auth\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SearchForm() {\n  _s();\n\n  // DB\n  const [users, setUsers] = useState([]);\n  const [usersIcf, setUsersIcf] = useState([]);\n  const [searchItem, setSearchItem] = useState(\"\");\n  const colRef = collection(db, \"users\");\n  useEffect(() => {\n    // const q = query(colRef, where(\"idCard\", \"==\", searchItem));\n    const getUsers = async () => {\n      const data = await getDocs(colRef);\n      setUsers(data.docs.map(doc => ({ ...doc.data(),\n        id: doc.id\n      })));\n    };\n\n    getUsers();\n  }, []); // Get DB ID\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"p-3\",\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        lg: 9,\n        children: [/*#__PURE__*/_jsxDEV(FloatingLabel, {\n          controlId: \"floatingInputGrid\",\n          label: \"\\u0E40\\u0E25\\u0E02\\u0E1A\\u0E31\\u0E15\\u0E23\\u0E1B\\u0E23\\u0E30\\u0E0A\\u0E32\\u0E0A\\u0E19\",\n          children: /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \" \",\n            style: {\n              borderRadius: \"15px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 52,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        lg: 3,\n        children: [/*#__PURE__*/_jsxDEV(FloatingLabel, {\n          controlId: \"floatingSelect\",\n          label: \"\\u0E23\\u0E39\\u0E1B\\u0E41\\u0E1A\\u0E1A\",\n          children: /*#__PURE__*/_jsxDEV(Form.Select, {\n            style: {\n              borderRadius: \"15px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"\\u0E04\\u0E48\\u0E32\\u0E40\\u0E23\\u0E34\\u0E48\\u0E21\\u0E15\\u0E49\\u0E19\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 63,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"\\u0E40\\u0E23\\u0E35\\u0E22\\u0E07\\u0E15\\u0E32\\u0E21\\u0E1A\\u0E31\\u0E15\\u0E23\\u0E1B\\u0E23\\u0E30\\u0E0A\\u0E32\\u0E0A\\u0E19\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 64,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 62,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        lg: 12,\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          responsive: \"md\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0E40\\u0E25\\u0E02\\u0E1A\\u0E31\\u0E15\\u0E23\\u0E1B\\u0E23\\u0E30\\u0E0A\\u0E32\\u0E0A\\u0E19\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 75,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: \"10%\"\n                },\n                children: \"\\u0E15\\u0E33\\u0E1A\\u0E25\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0E0A\\u0E37\\u0E48\\u0E2D-\\u0E19\\u0E32\\u0E21\\u0E2A\\u0E01\\u0E38\\u0E25\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 77,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0E04\\u0E27\\u0E32\\u0E21\\u0E1E\\u0E34\\u0E01\\u0E32\\u0E23\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: \"12%\"\n                },\n                children: \"\\u0E04\\u0E30\\u0E41\\u0E19\\u0E19 BI\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: \"13%\"\n                },\n                children: \"\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E21\\u0E34\\u0E19\\u0E01\\u0E32\\u0E22\\u0E20\\u0E32\\u0E1E\\u0E1A\\u0E33\\u0E1A\\u0E31\\u0E14\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 80,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: \"13%\"\n                },\n                children: \"\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E21\\u0E34\\u0E19\\u0E01\\u0E34\\u0E08\\u0E01\\u0E23\\u0E23\\u0E21\\u0E1A\\u0E33\\u0E1A\\u0E31\\u0E14\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: \"10%\"\n                },\n                children: \"\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E21\\u0E34\\u0E19 ICF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: \"12%\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 83,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: users.map(user => {\n              const updateRef = doc(db, \"users\", user.id);\n              const subcollection = collection(updateRef, \"icf\");\n              const gd = getDocs(subcollection).then(snap => {\n                updateDoc(updateRef, {\n                  countIcf: snap.size\n                });\n              });\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: user.idCard\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: user.subDistrict\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [user.fname, \" \", user.lname]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 99,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: user.disability\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 102,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: user.biScore ? user.biScore : /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"\\u0E22\\u0E31\\u0E07\\u0E44\\u0E21\\u0E48\\u0E44\\u0E14\\u0E49\\u0E01\\u0E23\\u0E2D\\u0E01\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 104,\n                    columnNumber: 54\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"\\u0E22\\u0E31\\u0E07\\u0E44\\u0E21\\u0E48\\u0E44\\u0E14\\u0E49\\u0E01\\u0E23\\u0E2D\\u0E01\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 107,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 106,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"\\u0E22\\u0E31\\u0E07\\u0E44\\u0E21\\u0E48\\u0E44\\u0E14\\u0E49\\u0E01\\u0E23\\u0E2D\\u0E01\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 110,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: user.countIcf != 0 ? \"กรอกข้อมูลแล้ว\" : \"ยังไม่ได้กรอกข้อมูล\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: user.countIcf != 0 ? /*#__PURE__*/_jsxDEV(DropdownButton, {\n                    id: \"dropdown-item-button\",\n                    className: \"w-100\",\n                    variant: \"primary\",\n                    title: \"\\u0E14\\u0E39\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\",\n                    style: {\n                      borderRadius: \"15px\",\n                      padding: \".5rem\"\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                      children: /*#__PURE__*/_jsxDEV(Link, {\n                        to: `/infopatient/${user.id}`,\n                        activeClassName: \"active\",\n                        style: {\n                          textDecoration: \"none\",\n                          color: \"black\"\n                        },\n                        children: \"\\u0E14\\u0E39\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 127,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 126,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                      children: /*#__PURE__*/_jsxDEV(Link, {\n                        to: `/Icfinfo/${user.id}`,\n                        activeClassName: \"active\",\n                        style: {\n                          textDecoration: \"none\",\n                          color: \"black\"\n                        },\n                        children: \"ICF\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 136,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 135,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                      children: /*#__PURE__*/_jsxDEV(Link, {\n                        to: `/bi/${user.id}`,\n                        activeClassName: \"active\",\n                        style: {\n                          textDecoration: \"none\",\n                          color: \"black\"\n                        },\n                        children: \"BI\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 145,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 144,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 119,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(DropdownButton, {\n                    id: \"dropdown-item-button\",\n                    className: \"w-100\",\n                    variant: \"primary\",\n                    title: \"\\u0E14\\u0E39\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\",\n                    style: {\n                      borderRadius: \"15px\",\n                      padding: \".5rem\"\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                      as: Link,\n                      to: `/infopatient/${user.id}`,\n                      children: /*#__PURE__*/_jsxDEV(Link, {\n                        to: `/infopatient/${user.id}`,\n                        activeClassName: \"active\",\n                        style: {\n                          textDecoration: \"none\",\n                          color: \"black\"\n                        },\n                        children: \"\\u0E14\\u0E39\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 166,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 162,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                      as: Link,\n                      to: `/bi/${user.id}`,\n                      children: /*#__PURE__*/_jsxDEV(Link, {\n                        to: `/bi/${user.id}`,\n                        activeClassName: \"active\",\n                        style: {\n                          textDecoration: \"none\",\n                          color: \"black\"\n                        },\n                        children: \"BI\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 175,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 174,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                      as: Link,\n                      to: `/imagethrapy/${user.id}`,\n                      children: /*#__PURE__*/_jsxDEV(Link, {\n                        to: `/imagethrapy/${user.id}`,\n                        activeClassName: \"active\",\n                        style: {\n                          textDecoration: \"none\",\n                          color: \"black\"\n                        },\n                        children: \"\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E21\\u0E34\\u0E19\\u0E01\\u0E32\\u0E22\\u0E20\\u0E32\\u0E1E\\u0E1A\\u0E33\\u0E1A\\u0E31\\u0E14\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 187,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 183,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                      as: Link,\n                      to: `/occupationalthrapy/${user.id}`,\n                      children: /*#__PURE__*/_jsxDEV(Link, {\n                        to: `/occupationalthrapy/${user.id}`,\n                        activeClassName: \"active\",\n                        style: {\n                          textDecoration: \"none\",\n                          color: \"black\"\n                        },\n                        children: \"\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E21\\u0E34\\u0E19\\u0E01\\u0E34\\u0E08\\u0E01\\u0E23\\u0E23\\u0E21\\u0E1A\\u0E33\\u0E1A\\u0E31\\u0E14\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 199,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 195,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                      as: Link,\n                      to: `/Icfinfo/${user.id}`,\n                      children: /*#__PURE__*/_jsxDEV(Link, {\n                        to: `/Icfinfo/${user.id}`,\n                        activeClassName: \"active\",\n                        style: {\n                          textDecoration: \"none\",\n                          color: \"black\"\n                        },\n                        children: \"ICF\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 208,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 207,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 155,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 117,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SearchForm, \"q94O62Ffbpo+loyc72jHVT7l4aA=\");\n\n_c = SearchForm;\nexport default SearchForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchForm\");","map":{"version":3,"sources":["/Users/net/Documents/Work/Website/sarapee-web/src/Components/SearchForm/SearchForm.js"],"names":["React","useState","useEffect","Container","Col","Row","Form","FloatingLabel","Table","Button","DropdownButton","Dropdown","Link","db","collection","doc","getDocs","query","snapshotEqual","updateDoc","where","connectAuthEmulator","SearchForm","users","setUsers","usersIcf","setUsersIcf","searchItem","setSearchItem","colRef","getUsers","data","docs","map","id","borderRadius","width","user","updateRef","subcollection","gd","then","snap","countIcf","size","idCard","subDistrict","fname","lname","disability","biScore","padding","textDecoration","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nimport {\n  Container,\n  Col,\n  Row,\n  Form,\n  FloatingLabel,\n  Table,\n  Button,\n  DropdownButton,\n  Dropdown,\n} from \"react-bootstrap\";\n\nimport { Link } from \"react-router-dom\";\n\nimport { db } from \"../../Config\";\nimport {\n  collection,\n  doc,\n  getDocs,\n  query,\n  snapshotEqual,\n  updateDoc,\n  where,\n} from \"firebase/firestore\";\nimport { connectAuthEmulator } from \"firebase/auth\";\nfunction SearchForm() {\n  // DB\n  const [users, setUsers] = useState([]);\n  const [usersIcf, setUsersIcf] = useState([]);\n  const [searchItem, setSearchItem] = useState(\"\");\n\n  const colRef = collection(db, \"users\");\n\n  useEffect(() => {\n    // const q = query(colRef, where(\"idCard\", \"==\", searchItem));\n    const getUsers = async () => {\n      const data = await getDocs(colRef);\n      setUsers(data.docs.map((doc) => ({ ...doc.data(), id: doc.id })));\n    };\n    getUsers();\n  }, []);\n\n  // Get DB ID\n\n  return (\n    <Container className=\"p-3\">\n      <Row>\n        <Col lg={9}>\n          <FloatingLabel controlId=\"floatingInputGrid\" label=\"เลขบัตรประชาชน\">\n            <Form.Control\n              type=\"text\"\n              placeholder=\" \"\n              style={{ borderRadius: \"15px\" }}\n            />\n          </FloatingLabel>\n          <br></br>\n        </Col>\n        <Col lg={3}>\n          <FloatingLabel controlId=\"floatingSelect\" label=\"รูปแบบ\">\n            <Form.Select style={{ borderRadius: \"15px\" }}>\n              <option>ค่าเริ่มต้น</option>\n              <option>เรียงตามบัตรประชาชน</option>\n            </Form.Select>\n          </FloatingLabel>\n          <br></br>\n        </Col>\n      </Row>\n      <Row>\n        <Col lg={12}>\n          <Table responsive=\"md\">\n            <thead>\n              <tr>\n                <th>เลขบัตรประชาชน</th>\n                <th style={{ width: \"10%\" }}>ตำบล</th>\n                <th>ชื่อ-นามสกุล</th>\n                <th>ความพิการ</th>\n                <th style={{ width: \"12%\" }}>คะแนน BI</th>\n                <th style={{ width: \"13%\" }}>ประเมินกายภาพบำบัด</th>\n                <th style={{ width: \"13%\" }}>ประเมินกิจกรรมบำบัด</th>\n                <th style={{ width: \"10%\" }}>ประเมิน ICF</th>\n                <th style={{ width: \"12%\" }}></th>\n              </tr>\n            </thead>\n            <tbody>\n              {users.map((user) => {\n                const updateRef = doc(db, \"users\", user.id);\n                const subcollection = collection(updateRef, \"icf\");\n                const gd = getDocs(subcollection).then((snap) => {\n                  updateDoc(updateRef, {\n                    countIcf: snap.size,\n                  });\n                });\n                return (\n                  <tr>\n                    <td>{user.idCard}</td>\n                    <td>{user.subDistrict}</td>\n                    <td>\n                      {user.fname} {user.lname}\n                    </td>\n                    <td>{user.disability}</td>\n                    <td>\n                      {user.biScore ? user.biScore : <p>ยังไม่ได้กรอกข้อมูล</p>}\n                    </td>\n                    <td>\n                      <p>ยังไม่ได้กรอกข้อมูล</p>\n                    </td>\n                    <td>\n                      <p>ยังไม่ได้กรอกข้อมูล</p>\n                    </td>\n                    <td>\n                      {user.countIcf != 0\n                        ? \"กรอกข้อมูลแล้ว\"\n                        : \"ยังไม่ได้กรอกข้อมูล\"}\n                    </td>\n                    <td>\n                      {user.countIcf != 0 ? (\n                        <DropdownButton\n                          id=\"dropdown-item-button\"\n                          className=\"w-100\"\n                          variant=\"primary\"\n                          title=\"ดูข้อมูล\"\n                          style={{ borderRadius: \"15px\", padding: \".5rem\" }}\n                        >\n                          <Dropdown.Item>\n                            <Link\n                              to={`/infopatient/${user.id}`}\n                              activeClassName=\"active\"\n                              style={{ textDecoration: \"none\", color: \"black\" }}\n                            >\n                              ดูข้อมูล\n                            </Link>\n                          </Dropdown.Item>\n                          <Dropdown.Item>\n                            <Link\n                              to={`/Icfinfo/${user.id}`}\n                              activeClassName=\"active\"\n                              style={{ textDecoration: \"none\", color: \"black\" }}\n                            >\n                              ICF\n                            </Link>\n                          </Dropdown.Item>\n                          <Dropdown.Item>\n                            <Link\n                              to={`/bi/${user.id}`}\n                              activeClassName=\"active\"\n                              style={{ textDecoration: \"none\", color: \"black\" }}\n                            >\n                              BI\n                            </Link>\n                          </Dropdown.Item>\n                        </DropdownButton>\n                      ) : (\n                        <DropdownButton\n                          id=\"dropdown-item-button\"\n                          className=\"w-100\"\n                          variant=\"primary\"\n                          title=\"ดูข้อมูล\"\n                          style={{ borderRadius: \"15px\", padding: \".5rem\" }}\n                        >\n                          <Dropdown.Item\n                            as={Link}\n                            to={`/infopatient/${user.id}`}\n                          >\n                            <Link\n                              to={`/infopatient/${user.id}`}\n                              activeClassName=\"active\"\n                              style={{ textDecoration: \"none\", color: \"black\" }}\n                            >\n                              ดูข้อมูล\n                            </Link>\n                          </Dropdown.Item>\n                          <Dropdown.Item as={Link} to={`/bi/${user.id}`}>\n                            <Link\n                              to={`/bi/${user.id}`}\n                              activeClassName=\"active\"\n                              style={{ textDecoration: \"none\", color: \"black\" }}\n                            >\n                              BI\n                            </Link>\n                          </Dropdown.Item>\n                          <Dropdown.Item\n                            as={Link}\n                            to={`/imagethrapy/${user.id}`}\n                          >\n                            <Link\n                              to={`/imagethrapy/${user.id}`}\n                              activeClassName=\"active\"\n                              style={{ textDecoration: \"none\", color: \"black\" }}\n                            >\n                              ประเมินกายภาพบำบัด\n                            </Link>\n                          </Dropdown.Item>\n                          <Dropdown.Item\n                            as={Link}\n                            to={`/occupationalthrapy/${user.id}`}\n                          >\n                            <Link\n                              to={`/occupationalthrapy/${user.id}`}\n                              activeClassName=\"active\"\n                              style={{ textDecoration: \"none\", color: \"black\" }}\n                            >\n                              ประเมินกิจกรรมบำบัด\n                            </Link>\n                          </Dropdown.Item>\n                          <Dropdown.Item as={Link} to={`/Icfinfo/${user.id}`}>\n                            <Link\n                              to={`/Icfinfo/${user.id}`}\n                              activeClassName=\"active\"\n                              style={{ textDecoration: \"none\", color: \"black\" }}\n                            >\n                              ICF\n                            </Link>\n                          </Dropdown.Item>\n                        </DropdownButton>\n                      )}\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </Table>\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default SearchForm;\n"]},"metadata":{},"sourceType":"module"}