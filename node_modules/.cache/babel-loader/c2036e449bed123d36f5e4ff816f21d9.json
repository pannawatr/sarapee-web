{"ast":null,"code":"var _jsxFileName = \"/Users/net/Documents/Work/Website/sarapee-web/src/Components/SearchForm/SearchForm.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Container, Col, Row, Form, FloatingLabel, Table, DropdownButton, Dropdown } from \"react-bootstrap\";\nimport { Link } from \"react-router-dom\";\nimport { db } from \"../../Config\";\nimport { collection, doc, getDocs, updateDoc } from \"firebase/firestore\"; // import { connectAuthEmulator } from \"firebase/auth\";\n\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction SearchForm() {\n  _s();\n\n  // DB\n  const [users, setUsers] = useState([]);\n  const colRef = collection(db, \"users\");\n  useEffect(() => {\n    // const q = query(colRef, where(\"idCard\", \"==\", searchItem));\n    const getUsers = async () => {\n      const data = await getDocs(colRef);\n      setUsers(data.docs.map(doc => ({ ...doc.data(),\n        id: doc.id\n      })));\n    };\n\n    getUsers();\n  }, []); // Get DB ID\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    className: \"p-3\",\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        lg: 9,\n        children: [/*#__PURE__*/_jsxDEV(FloatingLabel, {\n          controlId: \"floatingInputGrid\",\n          label: \"\\u0E40\\u0E25\\u0E02\\u0E1A\\u0E31\\u0E15\\u0E23\\u0E1B\\u0E23\\u0E30\\u0E0A\\u0E32\\u0E0A\\u0E19\",\n          children: /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \" \",\n            style: {\n              borderRadius: \"15px\"\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 43,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 42,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 41,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        lg: 3,\n        children: [/*#__PURE__*/_jsxDEV(FloatingLabel, {\n          controlId: \"floatingSelect\",\n          label: \"\\u0E23\\u0E39\\u0E1B\\u0E41\\u0E1A\\u0E1A\",\n          children: /*#__PURE__*/_jsxDEV(Form.Select, {\n            style: {\n              borderRadius: \"15px\"\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"\\u0E04\\u0E48\\u0E32\\u0E40\\u0E23\\u0E34\\u0E48\\u0E21\\u0E15\\u0E49\\u0E19\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 54,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              children: \"\\u0E40\\u0E23\\u0E35\\u0E22\\u0E07\\u0E15\\u0E32\\u0E21\\u0E1A\\u0E31\\u0E15\\u0E23\\u0E1B\\u0E23\\u0E30\\u0E0A\\u0E32\\u0E0A\\u0E19\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 55,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Row, {\n      children: /*#__PURE__*/_jsxDEV(Col, {\n        lg: 12,\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          responsive: \"md\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0E40\\u0E25\\u0E02\\u0E1A\\u0E31\\u0E15\\u0E23\\u0E1B\\u0E23\\u0E30\\u0E0A\\u0E32\\u0E0A\\u0E19\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 66,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: \"10%\"\n                },\n                children: \"\\u0E15\\u0E33\\u0E1A\\u0E25\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 67,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0E0A\\u0E37\\u0E48\\u0E2D-\\u0E19\\u0E32\\u0E21\\u0E2A\\u0E01\\u0E38\\u0E25\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0E04\\u0E27\\u0E32\\u0E21\\u0E1E\\u0E34\\u0E01\\u0E32\\u0E23\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 69,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: \"12%\"\n                },\n                children: \"\\u0E04\\u0E30\\u0E41\\u0E19\\u0E19 BI\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 70,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: \"13%\"\n                },\n                children: \"\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E21\\u0E34\\u0E19\\u0E01\\u0E32\\u0E22\\u0E20\\u0E32\\u0E1E\\u0E1A\\u0E33\\u0E1A\\u0E31\\u0E14\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 71,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: \"13%\"\n                },\n                children: \"\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E21\\u0E34\\u0E19\\u0E01\\u0E34\\u0E08\\u0E01\\u0E23\\u0E23\\u0E21\\u0E1A\\u0E33\\u0E1A\\u0E31\\u0E14\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 72,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: \"10%\"\n                },\n                children: \"\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E21\\u0E34\\u0E19 ICF\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 73,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                style: {\n                  width: \"12%\"\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 74,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 65,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: users.map(user => {\n              const updateRef = doc(db, \"users\", user.id);\n              const subcollection = collection(updateRef, \"icf\");\n              getDocs(subcollection).then(snap => {\n                updateDoc(updateRef, {\n                  countIcf: snap.size\n                });\n              });\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: user.idCard\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 88,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: user.subDistrict\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 89,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [user.fname, \" \", user.lname]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 90,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: user.disability\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 93,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: user.biScore ? user.biScore : /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"\\u0E22\\u0E31\\u0E07\\u0E44\\u0E21\\u0E48\\u0E44\\u0E14\\u0E49\\u0E01\\u0E23\\u0E2D\\u0E01\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 95,\n                    columnNumber: 54\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"\\u0E22\\u0E31\\u0E07\\u0E44\\u0E21\\u0E48\\u0E44\\u0E14\\u0E49\\u0E01\\u0E23\\u0E2D\\u0E01\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 98,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: \"\\u0E22\\u0E31\\u0E07\\u0E44\\u0E21\\u0E48\\u0E44\\u0E14\\u0E49\\u0E01\\u0E23\\u0E2D\\u0E01\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 101,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 100,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: user.countIcf !== 0 ? \"กรอกข้อมูลแล้ว\" : \"ยังไม่ได้กรอกข้อมูล\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 103,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: user.countIcf !== 0 ? /*#__PURE__*/_jsxDEV(DropdownButton, {\n                    id: \"dropdown-item-button\",\n                    className: \"w-100\",\n                    variant: \"primary\",\n                    title: \"\\u0E14\\u0E39\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\",\n                    style: {\n                      borderRadius: \"15px\",\n                      padding: \".5rem\"\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                      children: /*#__PURE__*/_jsxDEV(Link, {\n                        to: `/infopatient/${user.id}`,\n                        activeClassName: \"active\",\n                        style: {\n                          textDecoration: \"none\",\n                          color: \"black\"\n                        },\n                        children: \"\\u0E14\\u0E39\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 118,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 117,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                      children: /*#__PURE__*/_jsxDEV(Link, {\n                        to: `/Icfinfo/${user.id}`,\n                        activeClassName: \"active\",\n                        style: {\n                          textDecoration: \"none\",\n                          color: \"black\"\n                        },\n                        children: \"ICF\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 127,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 126,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                      children: /*#__PURE__*/_jsxDEV(Link, {\n                        to: `/bi/${user.id}`,\n                        activeClassName: \"active\",\n                        style: {\n                          textDecoration: \"none\",\n                          color: \"black\"\n                        },\n                        children: \"BI\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 136,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 135,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 110,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(DropdownButton, {\n                    id: \"dropdown-item-button\",\n                    className: \"w-100\",\n                    variant: \"primary\",\n                    title: \"\\u0E14\\u0E39\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\",\n                    style: {\n                      borderRadius: \"15px\",\n                      padding: \".5rem\"\n                    },\n                    children: [/*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                      as: Link,\n                      to: `/infopatient/${user.id}`,\n                      children: /*#__PURE__*/_jsxDEV(Link, {\n                        to: `/infopatient/${user.id}`,\n                        activeClassName: \"active\",\n                        style: {\n                          textDecoration: \"none\",\n                          color: \"black\"\n                        },\n                        children: \"\\u0E14\\u0E39\\u0E02\\u0E49\\u0E2D\\u0E21\\u0E39\\u0E25\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 157,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 153,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                      as: Link,\n                      to: `/bi/${user.id}`,\n                      children: /*#__PURE__*/_jsxDEV(Link, {\n                        to: `/bi/${user.id}`,\n                        activeClassName: \"active\",\n                        style: {\n                          textDecoration: \"none\",\n                          color: \"black\"\n                        },\n                        children: \"BI\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 166,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 165,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                      as: Link,\n                      to: `/imagethrapy/${user.id}`,\n                      children: /*#__PURE__*/_jsxDEV(Link, {\n                        to: `/imagethrapy/${user.id}`,\n                        activeClassName: \"active\",\n                        style: {\n                          textDecoration: \"none\",\n                          color: \"black\"\n                        },\n                        children: \"\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E21\\u0E34\\u0E19\\u0E01\\u0E32\\u0E22\\u0E20\\u0E32\\u0E1E\\u0E1A\\u0E33\\u0E1A\\u0E31\\u0E14\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 178,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 174,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                      as: Link,\n                      to: `/occupationalthrapy/${user.id}`,\n                      children: /*#__PURE__*/_jsxDEV(Link, {\n                        to: `/occupationalthrapy/${user.id}`,\n                        activeClassName: \"active\",\n                        style: {\n                          textDecoration: \"none\",\n                          color: \"black\"\n                        },\n                        children: \"\\u0E1B\\u0E23\\u0E30\\u0E40\\u0E21\\u0E34\\u0E19\\u0E01\\u0E34\\u0E08\\u0E01\\u0E23\\u0E23\\u0E21\\u0E1A\\u0E33\\u0E1A\\u0E31\\u0E14\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 190,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 186,\n                      columnNumber: 27\n                    }, this), /*#__PURE__*/_jsxDEV(Dropdown.Item, {\n                      as: Link,\n                      to: `/Icfinfo/${user.id}`,\n                      children: /*#__PURE__*/_jsxDEV(Link, {\n                        to: `/Icfinfo/${user.id}`,\n                        activeClassName: \"active\",\n                        style: {\n                          textDecoration: \"none\",\n                          color: \"black\"\n                        },\n                        children: \"ICF\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 199,\n                        columnNumber: 29\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 198,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 146,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 87,\n                columnNumber: 19\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 39,\n    columnNumber: 5\n  }, this);\n}\n\n_s(SearchForm, \"JadZszbqna06PpJs9hMo7Hl/LOY=\");\n\n_c = SearchForm;\nexport default SearchForm;\n\nvar _c;\n\n$RefreshReg$(_c, \"SearchForm\");","map":{"version":3,"sources":["/Users/net/Documents/Work/Website/sarapee-web/src/Components/SearchForm/SearchForm.js"],"names":["React","useState","useEffect","Container","Col","Row","Form","FloatingLabel","Table","DropdownButton","Dropdown","Link","db","collection","doc","getDocs","updateDoc","SearchForm","users","setUsers","colRef","getUsers","data","docs","map","id","borderRadius","width","user","updateRef","subcollection","then","snap","countIcf","size","idCard","subDistrict","fname","lname","disability","biScore","padding","textDecoration","color"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nimport {\n  Container,\n  Col,\n  Row,\n  Form,\n  FloatingLabel,\n  Table,\n  DropdownButton,\n  Dropdown,\n} from \"react-bootstrap\";\n\nimport { Link } from \"react-router-dom\";\n\nimport { db } from \"../../Config\";\nimport { collection, doc, getDocs, updateDoc } from \"firebase/firestore\";\n\n// import { connectAuthEmulator } from \"firebase/auth\";\n\nfunction SearchForm() {\n  // DB\n  const [users, setUsers] = useState([]);\n\n  const colRef = collection(db, \"users\");\n\n  useEffect(() => {\n    // const q = query(colRef, where(\"idCard\", \"==\", searchItem));\n    const getUsers = async () => {\n      const data = await getDocs(colRef);\n      setUsers(data.docs.map((doc) => ({ ...doc.data(), id: doc.id })));\n    };\n    getUsers();\n  }, []);\n\n  // Get DB ID\n\n  return (\n    <Container className=\"p-3\">\n      <Row>\n        <Col lg={9}>\n          <FloatingLabel controlId=\"floatingInputGrid\" label=\"เลขบัตรประชาชน\">\n            <Form.Control\n              type=\"text\"\n              placeholder=\" \"\n              style={{ borderRadius: \"15px\" }}\n            />\n          </FloatingLabel>\n          <br></br>\n        </Col>\n        <Col lg={3}>\n          <FloatingLabel controlId=\"floatingSelect\" label=\"รูปแบบ\">\n            <Form.Select style={{ borderRadius: \"15px\" }}>\n              <option>ค่าเริ่มต้น</option>\n              <option>เรียงตามบัตรประชาชน</option>\n            </Form.Select>\n          </FloatingLabel>\n          <br></br>\n        </Col>\n      </Row>\n      <Row>\n        <Col lg={12}>\n          <Table responsive=\"md\">\n            <thead>\n              <tr>\n                <th>เลขบัตรประชาชน</th>\n                <th style={{ width: \"10%\" }}>ตำบล</th>\n                <th>ชื่อ-นามสกุล</th>\n                <th>ความพิการ</th>\n                <th style={{ width: \"12%\" }}>คะแนน BI</th>\n                <th style={{ width: \"13%\" }}>ประเมินกายภาพบำบัด</th>\n                <th style={{ width: \"13%\" }}>ประเมินกิจกรรมบำบัด</th>\n                <th style={{ width: \"10%\" }}>ประเมิน ICF</th>\n                <th style={{ width: \"12%\" }}></th>\n              </tr>\n            </thead>\n            <tbody>\n              {users.map((user) => {\n                const updateRef = doc(db, \"users\", user.id);\n                const subcollection = collection(updateRef, \"icf\");\n                getDocs(subcollection).then((snap) => {\n                  updateDoc(updateRef, {\n                    countIcf: snap.size,\n                  });\n                });\n                return (\n                  <tr>\n                    <td>{user.idCard}</td>\n                    <td>{user.subDistrict}</td>\n                    <td>\n                      {user.fname} {user.lname}\n                    </td>\n                    <td>{user.disability}</td>\n                    <td>\n                      {user.biScore ? user.biScore : <p>ยังไม่ได้กรอกข้อมูล</p>}\n                    </td>\n                    <td>\n                      <p>ยังไม่ได้กรอกข้อมูล</p>\n                    </td>\n                    <td>\n                      <p>ยังไม่ได้กรอกข้อมูล</p>\n                    </td>\n                    <td>\n                      {user.countIcf !== 0\n                        ? \"กรอกข้อมูลแล้ว\"\n                        : \"ยังไม่ได้กรอกข้อมูล\"}\n                    </td>\n                    <td>\n                      {user.countIcf !== 0 ? (\n                        <DropdownButton\n                          id=\"dropdown-item-button\"\n                          className=\"w-100\"\n                          variant=\"primary\"\n                          title=\"ดูข้อมูล\"\n                          style={{ borderRadius: \"15px\", padding: \".5rem\" }}\n                        >\n                          <Dropdown.Item>\n                            <Link\n                              to={`/infopatient/${user.id}`}\n                              activeClassName=\"active\"\n                              style={{ textDecoration: \"none\", color: \"black\" }}\n                            >\n                              ดูข้อมูล\n                            </Link>\n                          </Dropdown.Item>\n                          <Dropdown.Item>\n                            <Link\n                              to={`/Icfinfo/${user.id}`}\n                              activeClassName=\"active\"\n                              style={{ textDecoration: \"none\", color: \"black\" }}\n                            >\n                              ICF\n                            </Link>\n                          </Dropdown.Item>\n                          <Dropdown.Item>\n                            <Link\n                              to={`/bi/${user.id}`}\n                              activeClassName=\"active\"\n                              style={{ textDecoration: \"none\", color: \"black\" }}\n                            >\n                              BI\n                            </Link>\n                          </Dropdown.Item>\n                        </DropdownButton>\n                      ) : (\n                        <DropdownButton\n                          id=\"dropdown-item-button\"\n                          className=\"w-100\"\n                          variant=\"primary\"\n                          title=\"ดูข้อมูล\"\n                          style={{ borderRadius: \"15px\", padding: \".5rem\" }}\n                        >\n                          <Dropdown.Item\n                            as={Link}\n                            to={`/infopatient/${user.id}`}\n                          >\n                            <Link\n                              to={`/infopatient/${user.id}`}\n                              activeClassName=\"active\"\n                              style={{ textDecoration: \"none\", color: \"black\" }}\n                            >\n                              ดูข้อมูล\n                            </Link>\n                          </Dropdown.Item>\n                          <Dropdown.Item as={Link} to={`/bi/${user.id}`}>\n                            <Link\n                              to={`/bi/${user.id}`}\n                              activeClassName=\"active\"\n                              style={{ textDecoration: \"none\", color: \"black\" }}\n                            >\n                              BI\n                            </Link>\n                          </Dropdown.Item>\n                          <Dropdown.Item\n                            as={Link}\n                            to={`/imagethrapy/${user.id}`}\n                          >\n                            <Link\n                              to={`/imagethrapy/${user.id}`}\n                              activeClassName=\"active\"\n                              style={{ textDecoration: \"none\", color: \"black\" }}\n                            >\n                              ประเมินกายภาพบำบัด\n                            </Link>\n                          </Dropdown.Item>\n                          <Dropdown.Item\n                            as={Link}\n                            to={`/occupationalthrapy/${user.id}`}\n                          >\n                            <Link\n                              to={`/occupationalthrapy/${user.id}`}\n                              activeClassName=\"active\"\n                              style={{ textDecoration: \"none\", color: \"black\" }}\n                            >\n                              ประเมินกิจกรรมบำบัด\n                            </Link>\n                          </Dropdown.Item>\n                          <Dropdown.Item as={Link} to={`/Icfinfo/${user.id}`}>\n                            <Link\n                              to={`/Icfinfo/${user.id}`}\n                              activeClassName=\"active\"\n                              style={{ textDecoration: \"none\", color: \"black\" }}\n                            >\n                              ICF\n                            </Link>\n                          </Dropdown.Item>\n                        </DropdownButton>\n                      )}\n                    </td>\n                  </tr>\n                );\n              })}\n            </tbody>\n          </Table>\n        </Col>\n      </Row>\n    </Container>\n  );\n}\n\nexport default SearchForm;\n"]},"metadata":{},"sourceType":"module"}